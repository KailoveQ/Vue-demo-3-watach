{"version":3,"sources":["main.js"],"names":["Vue","window","config","productionTip","data","n","history","inUndoMode","watch","newValue","oldValue","console","log","push","from","to","template","methods","add1","add2","minus1","minus2","undo","last","pop","old","$nextTick","$mount"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,GAAG,GAAGC,MAAM,CAACD,GAAnB;AACAA,GAAG,CAACE,MAAJ,CAAWC,aAAX,GAA0B,KAA1B;AAEA,IAAIH,GAAJ,CAAQ;AACJI,EAAAA,IAAI,EAAE;AACJC,IAAAA,CAAC,EAAE,CADC;AAEJC,IAAAA,OAAO,EAAE,EAFL;AAGJC,IAAAA,UAAU,EAAE;AAHR,GADF;AAMJC,EAAAA,KAAK,EAAE;AACLH,IAAAA,CAAC,EAAE,WAASI,QAAT,EAAmBC,QAAnB,EAA6B;AAC9BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,UAAjB;;AACA,UAAI,CAAC,KAAKA,UAAV,EAAsB;AACpB,aAAKD,OAAL,CAAaO,IAAb,CAAkB;AAAEC,UAAAA,IAAI,EAAEJ,QAAR;AAAkBK,UAAAA,EAAE,EAAEN;AAAtB,SAAlB;AACD;AACF;AANI,GANH;AAcJ;AACAO,EAAAA,QAAQ,0WAfJ;AA8BJC,EAAAA,OAAO,EAAE;AACPC,IAAAA,IADO,kBACA;AACL,WAAKb,CAAL,IAAU,CAAV;AACD,KAHM;AAIPc,IAAAA,IAJO,kBAIA;AACL,WAAKd,CAAL,IAAU,CAAV;AACD,KANM;AAOPe,IAAAA,MAPO,oBAOE;AACP,WAAKf,CAAL,IAAU,CAAV;AACD,KATM;AAUPgB,IAAAA,MAVO,oBAUE;AACP,WAAKhB,CAAL,IAAU,CAAV;AACD,KAZM;AAaPiB,IAAAA,IAbO,kBAaA;AAAA;;AACL,UAAMC,IAAI,GAAG,KAAKjB,OAAL,CAAakB,GAAb,EAAb;AACA,WAAKjB,UAAL,GAAkB,IAAlB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKL,UAAxB;AACA,UAAMkB,GAAG,GAAGF,IAAI,CAACT,IAAjB;AACA,WAAKT,CAAL,GAASoB,GAAT,CALK,CAKS;;AACd,WAAKC,SAAL,CAAe,YAAM;AACnB,QAAA,KAAI,CAACnB,UAAL,GAAkB,KAAlB;AACD,OAFD;AAGD;AAtBM;AA9BL,CAAR,EAsDKoB,MAtDL,CAsDY,MAtDZ","file":"main.86c9e1a4.js","sourceRoot":"..\\src","sourcesContent":["const Vue = window.Vue\r\nVue.config.productionTip =false\r\n\r\nnew Vue({\r\n    data: {\r\n      n: 0,\r\n      history: [],\r\n      inUndoMode: false\r\n    },\r\n    watch: {\r\n      n: function(newValue, oldValue) {\r\n        console.log(this.inUndoMode);\r\n        if (!this.inUndoMode) {\r\n          this.history.push({ from: oldValue, to: newValue });\r\n        }\r\n      }\r\n    },\r\n    // 不如用 computed 来计算 displayName\r\n    template: `\r\n      <div>\r\n        {{n}}\r\n        <hr />\r\n        <button @click=\"add1\">+1</button>\r\n        <button @click=\"add2\">+2</button>\r\n        <button @click=\"minus1\">-1</button>\r\n        <button @click=\"minus2\">-2</button>\r\n        <hr/>\r\n        <button @click=\"undo\">撤销</button>\r\n        <hr/>\r\n  \r\n        {{history}}\r\n      </div>\r\n    `,\r\n    methods: {\r\n      add1() {\r\n        this.n += 1;\r\n      },\r\n      add2() {\r\n        this.n += 2;\r\n      },\r\n      minus1() {\r\n        this.n -= 1;\r\n      },\r\n      minus2() {\r\n        this.n -= 2;\r\n      },\r\n      undo() {\r\n        const last = this.history.pop();\r\n        this.inUndoMode = true;\r\n        console.log(\"ha\" + this.inUndoMode);\r\n        const old = last.from;\r\n        this.n = old; // watch n 的函数会异步调用\r\n        this.$nextTick(() => {\r\n          this.inUndoMode = false;\r\n        });\r\n      }\r\n    }\r\n  }).$mount(\"#app\");"]}